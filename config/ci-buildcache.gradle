/**
 * This file configure the remote build cache for a ci server.
 * It expects the CI_BUILD_CACHE_URL system property to be set.
 * You can set it as a command line argument with
 * -DCI_BUILD_CACHE_URL=http://cachenode.url/cache/
 * or in gradle.properties
 * systemProp.CI_BUILD_CACHE_URL=http://cachenode.url/cache/
 * See https://docs.gradle.org/current/userguide/build_cache.html
 * for more information
 */
def ciBuildCacheUrl = System.getProperty("CI_BUILD_CACHE_URL")

if (ciBuildCacheUrl != null) {
    buildCache {
        local {
            enabled = false
        }
        remote(HttpBuildCache) {
            url = "${ciBuildCacheUrl}"
            push = true
        }
    }
}